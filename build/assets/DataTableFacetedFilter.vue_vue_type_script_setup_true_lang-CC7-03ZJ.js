import{c as $}from"./utils-B2uM22MF.js";import{_ as v}from"./index-Cg03Lmjz.js";import{_ as F}from"./index-CIq7__vP.js";import{_ as S,a as B,b as N,c as D,d as j,e as q,f as E,g as b,h as k,i as T}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-2TM9dyj4.js";import{_ as A}from"./Separator.vue_vue_type_script_setup_true_lang-DxUxf8j6.js";import{S as H}from"./sliders-horizontal-DkYavHTp.js";import{C as L}from"./check-Bth5m4QR.js";import{d as U,q as C,y as d,o as n,u as e,w as s,b as l,C as o,c as m,z as f,D as c,F as _,e as p,B as V,x as w,E as G}from"./app-cAtTxNmn.js";const I={class:"hidden space-x-1 lg:flex"},J={key:1,class:"ml-auto flex h-4 w-4 items-center justify-center text-xs"},Z=U({__name:"DataTableFacetedFilter",props:{column:{},title:{},options:{}},setup(z){const y=z,h=C(()=>{var t;return(t=y.column)==null?void 0:t.getFacetedUniqueValues()}),r=C(()=>{var t;return new Set((t=y.column)==null?void 0:t.getFilterValue())});return(t,i)=>(n(),d(e(S),null,{default:s(()=>[l(e(B),{"as-child":""},{default:s(()=>[l(e(F),{variant:"outline",size:"sm",class:"h-8 border-dashed text-xs"},{default:s(()=>[l(e(H),{class:"mr-2 h-2 w-2"}),o(" Filter: "+c(t.title)+" ",1),r.value.size>0?(n(),m(_,{key:0},[l(e(A),{orientation:"vertical",class:"mx-2 h-4"}),l(e(v),{variant:"secondary",class:"rounded-sm px-1 font-normal lg:hidden"},{default:s(()=>[o(c(r.value.size),1)]),_:1}),p("div",I,[r.value.size>2?(n(),d(e(v),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:s(()=>[o(c(r.value.size)+" selected ",1)]),_:1})):(n(!0),m(_,{key:1},V(t.options.filter(a=>r.value.has(a.value)),a=>(n(),d(e(v),{key:a.value,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:s(()=>[o(c(a.label),1)]),_:2},1024))),128))])],64)):f("",!0)]),_:1})]),_:1}),l(e(N),{class:"w-[240px] p-0",align:"start"},{default:s(()=>[l(e(D),null,{default:s(()=>[l(e(j),{placeholder:t.title},null,8,["placeholder"]),l(e(q),null,{default:s(()=>[l(e(E),null,{default:s(()=>i[1]||(i[1]=[o("No results found.")])),_:1,__:[1]}),l(e(b),null,{default:s(()=>[(n(!0),m(_,null,V(t.options,a=>(n(),d(e(k),{key:a.value,value:a,onSelect:u=>{var x;console.log(u.detail.value),r.value.has(a.value)?r.value.delete(a.value):r.value.add(a.value);const g=Array.from(r.value);(x=t.column)==null||x.setFilterValue(g.length?g:void 0)}},{default:s(()=>{var u;return[p("div",{class:w(e($)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",r.value.has(a.value)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"))},[l(e(L),{class:w(e($)("h-4 w-4"))},null,8,["class"])],2),a.icon?(n(),d(G(a.icon),{key:0,class:"mr-2 h-4 w-4 text-muted-foreground"})):f("",!0),p("span",null,c(a.label),1),(u=h.value)!=null&&u.get(a.value)?(n(),m("span",J,c(h.value.get(a.value)),1)):f("",!0)]}),_:2},1032,["value","onSelect"]))),128))]),_:1}),r.value.size>0?(n(),m(_,{key:0},[l(e(T)),l(e(b),null,{default:s(()=>[l(e(k),{value:{label:"Clear filters"},class:"justify-center text-center",onSelect:i[0]||(i[0]=a=>{var u;return(u=t.column)==null?void 0:u.setFilterValue(void 0)})},{default:s(()=>i[2]||(i[2]=[o(" Clear filters ")])),_:1,__:[2]})]),_:1})],64)):f("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Z as _};
