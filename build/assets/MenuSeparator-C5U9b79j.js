import{u as g}from"./useForwardExpose-CIuDtJXm.js";import{a as M,S as E,I as q}from"./utils-DNyje9Vd.js";import{i as w,d as k}from"./MenuPortal-DwdMGV1S.js";import{P as h}from"./Primitive-D3UVglao.js";import{a as B}from"./Collection-43-fJQ0Z.js";import{d as _,r as S,y as C,o as b,w as c,b as T,u as o,K as P,s as d,m as I}from"./app-cAtTxNmn.js";var x=_({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const u=l,r=w(),{forwardRef:f}=g(),{CollectionItem:m}=B(),i=S(!1);async function v(e){if(!e.defaultPrevented&&M(e)){if(u.disabled)r.onItemLeave(e);else if(!r.onItemEnter(e)){const t=e.currentTarget;t==null||t.focus({preventScroll:!0})}}}async function y(e){await d(),!e.defaultPrevented&&M(e)&&r.onItemLeave(e)}return(e,n)=>(b(),C(o(m),{value:{textValue:e.textValue}},{default:c(()=>[T(o(h),P({ref:o(f),role:"menuitem",tabindex:"-1"},e.$attrs,{as:e.as,"as-child":e.asChild,"aria-disabled":e.disabled||void 0,"data-disabled":e.disabled?"":void 0,"data-highlighted":i.value?"":void 0,onPointermove:v,onPointerleave:y,onFocus:n[0]||(n[0]=async t=>{await d(),!(t.defaultPrevented||e.disabled)&&(i.value=!0)}),onBlur:n[1]||(n[1]=async t=>{await d(),!t.defaultPrevented&&(i.value=!1)})}),{default:c(()=>[I(e.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),L=x,R=_({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(l,{emit:u}){const r=l,f=u,{forwardRef:m,currentElement:i}=g(),v=k(),y=w(),e=S(!1);async function n(){const t=i.value;if(!r.disabled&&t){const a=new CustomEvent(q,{bubbles:!0,cancelable:!0});f("select",a),await d(),a.defaultPrevented?e.value=!1:v.onClose()}}return(t,a)=>(b(),C(L,P(r,{ref:o(m),onClick:n,onPointerdown:a[0]||(a[0]=()=>{e.value=!0}),onPointerup:a[1]||(a[1]=async s=>{var p;await d(),!s.defaultPrevented&&(e.value||(p=s.currentTarget)==null||p.click())}),onKeydown:a[2]||(a[2]=async s=>{const p=o(y).searchRef.value!=="";t.disabled||p&&s.key===" "||o(E).includes(s.key)&&(s.currentTarget.click(),s.preventDefault())})}),{default:c(()=>[I(t.$slots,"default")]),_:3},16))}}),N=R,V=_({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const u=l;return(r,f)=>(b(),C(o(h),P(u,{role:"separator","aria-orientation":"horizontal"}),{default:c(()=>[I(r.$slots,"default")]),_:3},16))}}),z=V;export{N as M,z as a};
