import{d as V,r as M,H as T,j as S,P as D,y as c,o as d,w as a,b as t,u as e,x as j,e as l,C as m,D as y,J as B,c as L,z as N}from"./app-cAtTxNmn.js";import{_ as r}from"./index-CIq7__vP.js";import{t as A}from"./index-C6K_9UZa.js";import{_ as p,a as _,b as f}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BaLd1OzG.js";import{_ as b}from"./TooltipProvider.vue_vue_type_script_setup_true_lang-Cy5EAqPu.js";import{_ as v,a as E,b as I,c as P,d as U,e as q,f as z}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-CzfYHBhC.js";import{c as h}from"./createLucideIcon-5NNNzDu3.js";import{P as H}from"./pencil-DNfYNh-8.js";import"./Primitive-D3UVglao.js";import"./utils-B2uM22MF.js";import"./index-D5UchP3m.js";import"./Presence-Bx5YoEz3.js";import"./createContext-DxuuEVYa.js";import"./index-BnkX3gY3.js";import"./index-BiVhXwjY.js";import"./useForwardExpose-CIuDtJXm.js";import"./PopperContent-CJVz1WH5.js";import"./VisuallyHidden-MU-j1igr.js";import"./x-DzZy8kG7.js";import"./FocusScope-C-7cFVP4.js";import"./getActiveElement-FUKBWQwh.js";import"./utils-DNyje9Vd.js";import"./DialogTrigger-D4_mexEH.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=h("LinkIcon",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=h("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),F={class:"flex flex-col"},J={key:0,class:"text-sm text-red-500 mt-1"},G={class:"flex items-center justify-between gap-2 flex-row-reverse mt-2"},be=V({__name:"Edit",props:{device:{},unassignedTables:{}},setup(x){const i=x,n=M(!1),o=T({table_id:i.device.table_id}),w=()=>{n.value=!0,o.reset(),o.table_id=i.device.table_id},$=()=>{o.post(`/devices/${i.device.id}/assign-table`,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{A("Table Assigned:",{description:"The table has been assigned to the device.",action:{label:"Ok",variant:"success",onClick:()=>console.log("Ok")},duration:5e3,position:"top-right"}),n.value=!1},onError:g=>{console.error("❌ Validation error",g)}})};return S(()=>{console.log(i.device)}),(g,s)=>{const C=D("Select");return d(),c(e(z),{open:n.value,"onUpdate:open":s[1]||(s[1]=u=>n.value=u)},{default:a(()=>[t(e(b),{"delay-duration":100},{default:a(()=>[t(e(p),null,{default:a(()=>[t(e(_),{"as-child":""},{default:a(()=>[t(e(v),{"as-child":""},{default:a(()=>[e(o).table_id?(d(),c(e(r),{key:0,variant:"ghost",class:"cursor-pointer p-0",disabled:""},{default:a(()=>[t(e(k))]),_:1})):(d(),c(e(r),{key:1,variant:"ghost",class:"cursor-pointer p-0",onClick:w},{default:a(()=>[t(e(k),{class:j({"pointer-events-none cursor-none":e(o).table_id!=null})},null,8,["class"])]),_:1}))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>s[2]||(s[2]=[l("p",null,"Assign Table",-1)])),_:1,__:[2]})]),_:1})]),_:1}),t(e(b),{"delay-duration":100},{default:a(()=>[t(e(p),null,{default:a(()=>[t(e(_),{"as-child":""},{default:a(()=>[t(e(v),{"as-child":""},{default:a(()=>[t(e(r),{variant:"ghost",class:"cursor-pointer p-0",disabled:""},{default:a(()=>[t(e(H))]),_:1})]),_:1})]),_:1}),t(e(f),null,{default:a(()=>s[3]||(s[3]=[l("p",null,"Click to View/Modify",-1)])),_:1,__:[3]})]),_:1})]),_:1}),t(e(b),{"delay-duration":100},{default:a(()=>[t(e(p),null,{default:a(()=>[t(e(_),{"as-child":""},{default:a(()=>[t(e(v),{"as-child":""},{default:a(()=>[t(e(r),{variant:"ghost",class:"cursor-pointer p-0",disabled:""},{default:a(()=>[t(e(O))]),_:1})]),_:1})]),_:1}),t(e(f),null,{default:a(()=>s[4]||(s[4]=[l("p",null,"Click to View/Modify",-1)])),_:1,__:[4]})]),_:1})]),_:1}),t(e(E),{class:"sm:max-w-[600px]"},{default:a(()=>[t(e(I),null,{default:a(()=>[t(e(P),null,{default:a(()=>[m(y(i.device.name),1)]),_:1}),t(e(U),null,{default:a(()=>s[5]||(s[5]=[l("p",null,"Assign a table to this device.",-1)])),_:1,__:[5]})]),_:1}),l("form",{onSubmit:B($,["prevent"]),class:"grid gap-4"},[l("div",F,[s[6]||(s[6]=l("label",{class:"mb-1 text-sm font-medium"},"List of Unassigned Tables",-1)),t(C,{modelValue:e(o).table_id,"onUpdate:modelValue":s[0]||(s[0]=u=>e(o).table_id=u),items:i.unassignedTables},null,8,["modelValue","items"]),e(o).errors.table_id?(d(),L("div",J,y(e(o).errors.table_id),1)):N("",!0)]),l("div",G,[t(e(r),{type:"submit",class:"hover:bg-woosoo-primary-light hover:text-woosoo-primary-dark bg-woosoo-accent cursor-pointer text-gray-100 w-50",disabled:e(o).processing},{default:a(()=>s[7]||(s[7]=[m(" Save Changes ")])),_:1,__:[7]},8,["disabled"]),t(e(q),{"as-child":""},{default:a(()=>[t(e(r),{type:"button",variant:"secondary",class:"cursor-pointer w-50"},{default:a(()=>s[8]||(s[8]=[m("Close")])),_:1,__:[8]})]),_:1})])],32)]),_:1})]),_:1},8,["open"])}}});export{be as default};
