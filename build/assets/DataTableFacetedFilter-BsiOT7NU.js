import{c as $}from"./utils-B2uM22MF.js";import{_ as p}from"./index-DEhK0B77.js";import{_ as F}from"./index-CHJ4E7wj.js";import{a as S,b as B,c as N,d as D,e as j,f as q,g as b,h as k,i as E,_ as T}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CLFHwqYY.js";import{_ as A}from"./Separator.vue_vue_type_script_setup_true_lang-CDYkoJsM.js";import{S as H}from"./sliders-horizontal-DvSgZdh6.js";import{C as L}from"./check-DVoK4CUC.js";import{d as U,q as C,y as c,b as o,w as s,e as l,u as e,C as u,c as d,z as f,D as m,F as _,f as v,B as V,x as w,E as G}from"./app-DbhAseKL.js";import"./Primitive-Cyv5IaP_.js";import"./index-D5UchP3m.js";import"./index-CfbkxBOr.js";import"./Presence-1QBXfxcP.js";import"./createContext-CAhNy-JF.js";import"./index-BhSOTNk0.js";import"./Collection-BTzB6QsZ.js";import"./search-DjhLYgsl.js";import"./createLucideIcon-DQ4J_Ddg.js";import"./PopperContent-BO5fK46L.js";import"./useForwardExpose-DXHmXuPU.js";import"./useFormControl-C0_KnRMN.js";import"./useTypeahead-yG0m5nrE.js";import"./getActiveElement-FUKBWQwh.js";import"./utils-CC-pqV_U.js";import"./VisuallyHiddenInput-C2INnBHM.js";import"./VisuallyHidden-E-rDldB4.js";import"./FocusScope-xoeLEIVo.js";const I={class:"hidden space-x-1 lg:flex"},J={key:1,class:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs"},ye=U({__name:"DataTableFacetedFilter",props:{column:{},title:{},options:{}},setup(z){const y=z,h=C(()=>{var t;return(t=y.column)==null?void 0:t.getFacetedUniqueValues()}),r=C(()=>{var t;return new Set((t=y.column)==null?void 0:t.getFilterValue())});return(t,n)=>(o(),c(e(T),null,{default:s(()=>[l(e(S),{"as-child":""},{default:s(()=>[l(e(F),{variant:"outline",size:"sm",class:"h-8 border-dashed text-xs"},{default:s(()=>[l(e(H),{class:"mr-2 h-2 w-2"}),u(" Filter: "+m(t.title)+" ",1),r.value.size>0?(o(),d(_,{key:0},[l(e(A),{orientation:"vertical",class:"mx-2 h-4"}),l(e(p),{variant:"secondary",class:"rounded-sm px-1 font-normal lg:hidden"},{default:s(()=>[u(m(r.value.size),1)]),_:1}),v("div",I,[r.value.size>2?(o(),c(e(p),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:s(()=>[u(m(r.value.size)+" selected ",1)]),_:1})):(o(!0),d(_,{key:1},V(t.options.filter(a=>r.value.has(a.value)),a=>(o(),c(e(p),{key:a.value,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:s(()=>[u(m(a.label),1)]),_:2},1024))),128))])],64)):f("",!0)]),_:1})]),_:1}),l(e(B),{class:"w-[200px] p-0",align:"start"},{default:s(()=>[l(e(N),null,{default:s(()=>[l(e(D),{placeholder:t.title},null,8,["placeholder"]),l(e(j),null,{default:s(()=>[l(e(q),null,{default:s(()=>n[1]||(n[1]=[u("No results found.")])),_:1,__:[1]}),l(e(b),null,{default:s(()=>[(o(!0),d(_,null,V(t.options,a=>(o(),c(e(k),{key:a.value,value:a,onSelect:i=>{var x;console.log(i.detail.value),r.value.has(a.value)?r.value.delete(a.value):r.value.add(a.value);const g=Array.from(r.value);(x=t.column)==null||x.setFilterValue(g.length?g:void 0)}},{default:s(()=>{var i;return[v("div",{class:w(e($)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",r.value.has(a.value)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"))},[l(e(L),{class:w(e($)("h-4 w-4"))},null,8,["class"])],2),a.icon?(o(),c(G(a.icon),{key:0,class:"mr-2 h-4 w-4 text-muted-foreground"})):f("",!0),v("span",null,m(a.label),1),(i=h.value)!=null&&i.get(a.value)?(o(),d("span",J,m(h.value.get(a.value)),1)):f("",!0)]}),_:2},1032,["value","onSelect"]))),128))]),_:1}),r.value.size>0?(o(),d(_,{key:0},[l(e(E)),l(e(b),null,{default:s(()=>[l(e(k),{value:{label:"Clear filters"},class:"justify-center text-center",onSelect:n[0]||(n[0]=a=>{var i;return(i=t.column)==null?void 0:i.setFilterValue(void 0)})},{default:s(()=>n[2]||(n[2]=[u(" Clear filters ")])),_:1,__:[2]})]),_:1})],64)):f("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}});export{ye as default};
