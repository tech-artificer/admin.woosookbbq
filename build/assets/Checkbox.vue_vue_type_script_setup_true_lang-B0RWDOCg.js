import{c as $}from"./utils-B2uM22MF.js";import{P as j,a as A}from"./Presence-Bx5YoEz3.js";import{c as x}from"./createContext-DxuuEVYa.js";import{i as y}from"./nullish-CHIgUVhi.js";import{i as k,u as K}from"./useFormControl-WobrOCdn.js";import{u as R}from"./useForwardExpose-CIuDtJXm.js";import{P as S}from"./Primitive-D3UVglao.js";import{R as M}from"./RovingFocusItem-B7AELEj_.js";import{V as z}from"./VisuallyHiddenInput-BMnR5WIg.js";import{d as _,q as m,y as v,o as b,w as n,m as g,z as N,u as e,K as q,I as O,J as D,E as H,b as C}from"./app-cAtTxNmn.js";import{a as J}from"./index-BnkX3gY3.js";import{C as L}from"./check-Bth5m4QR.js";function B(o,i){return y(o)?!1:Array.isArray(o)?o.some(t=>k(t,i)):k(o,i)}const[T,ce]=x("CheckboxGroupRoot");function h(o){return o==="indeterminate"}function E(o){return h(o)?"indeterminate":o?"checked":"unchecked"}const[Q,U]=x("CheckboxRoot");var W=_({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(o,{emit:i}){const t=o,l=i,{forwardRef:c,currentElement:f}=R(),r=T(null),s=J(t,"modelValue",l,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),u=m(()=>(r==null?void 0:r.disabled.value)||t.disabled),d=m(()=>y(r==null?void 0:r.modelValue.value)?s.value==="indeterminate"?"indeterminate":s.value:B(r.modelValue.value,t.value));function F(){if(y(r==null?void 0:r.modelValue.value))s.value=h(s.value)?!0:!s.value;else{const a=[...r.modelValue.value||[]];if(B(a,t.value)){const V=a.findIndex(p=>k(p,t.value));a.splice(V,1)}else a.push(t.value);r.modelValue.value=a}}const I=K(f),P=m(()=>{var a;return t.id&&f.value?(a=document.querySelector(`[for="${t.id}"]`))==null?void 0:a.innerText:void 0});return U({disabled:u,state:d}),(a,V)=>{var p,w;return b(),v(H((p=e(r))!=null&&p.rovingFocus.value?e(M):e(S)),q(a.$attrs,{id:a.id,ref:e(c),role:"checkbox","as-child":a.asChild,as:a.as,type:a.as==="button"?"button":void 0,"aria-checked":e(h)(d.value)?"mixed":d.value,"aria-required":a.required,"aria-label":a.$attrs["aria-label"]||P.value,"data-state":e(E)(d.value),"data-disabled":u.value?"":void 0,disabled:u.value,focusable:(w=e(r))!=null&&w.rovingFocus.value?!u.value:void 0,onKeydown:O(D(()=>{},["prevent"]),["enter"]),onClick:F}),{default:n(()=>[g(a.$slots,"default",{modelValue:e(s),state:d.value}),e(I)&&a.name&&!e(r)?(b(),v(e(z),{key:0,type:"checkbox",checked:!!d.value,name:a.name,value:a.value,disabled:u.value,required:a.required},null,8,["checked","name","value","disabled","required"])):N("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),X=W,Y=_({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const{forwardRef:i}=R(),t=Q();return(l,c)=>(b(),v(e(j),{present:l.forceMount||e(h)(e(t).state.value)||e(t).state.value===!0},{default:n(()=>[C(e(S),q({ref:e(i),"data-state":e(E)(e(t).state.value),"data-disabled":e(t).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":l.asChild,as:l.as},l.$attrs),{default:n(()=>[g(l.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Z=Y;const fe=_({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(o,{emit:i}){const t=o,l=i,c=m(()=>{const{class:r,...s}=t;return s}),f=A(c,l);return(r,s)=>(b(),v(e(X),q({"data-slot":"checkbox"},e(f),{class:e($)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:n(()=>[C(e(Z),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:n(()=>[g(r.$slots,"default",{},()=>[C(e(L),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}});export{fe as _};
